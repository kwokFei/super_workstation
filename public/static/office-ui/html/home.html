<!DOCTYPE html>
<html lang="zh">

	<head>
		<meta charset="utf-8">
		<!--<link rel="shortcut icon" href="../images/logoIcon.png" type="image/icon" />-->
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
		<title>台迪智慧办公系统</title>
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/font-awesome.min.css" rel="stylesheet">
		<link href="../css/materialdesignicons.min.css" rel="stylesheet">
		<link href="../css/style.min.css" rel="stylesheet">
		<link href="../plus/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
		<link href="../css/bootstrap-treeview.css" rel="stylesheet">
		<link href="../css/commonStyle.css" rel="stylesheet">
		<link rel="stylesheet" href="../css/layui.css" />

		<script src="../js/jquery.min.js"></script>
		<script src="https://cdn.bootcss.com/echarts/4.4.0-rc.1/echarts.min.js"></script>
		<script src="../js/bootstrap.min.js"></script>
		<script src="../plus/bootstrap-table/bootstrap-table.min.js"></script>
		<script src="../plus/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
		<script src="../plus/layer/layer.js"></script>
		<script src="../js/template-web.js"></script>
		<script src="../plus/validate/jquery.validate.min.js"></script>
		<script src="../plus/validate/messages_zh.min.js"></script>
		<script src="../js/bootstrap-treeview.js"></script>

<!--		<!--		<script src="../js/httpUtils.js"></script>-->-->
<!--		<!--<script src="../js/Md5.js"></script>-->-->
		<style>
			main{
				padding: 1rem;
				box-sizing: border-box;
			}
		</style>
	</head>

	<body>
		<main>
			<div class="container-fluid">
				<div class="row">
					<!--title-->
					<div class="col-md-4">
						<div class="card">
							<div class="card-header"><span class="icon-index-sprite icon-attendance"></span><span>今日考勤</span></div>
							<ul class="value-list layui-card-body layuiadmin-card-list">
								<li>
									<p class="font-black-light goToNum">80</p>
									<p>应到人数</p>
								</li>
								<li>
									<p class="font-green actuallyNum">78</p>
									<p>实到人数</p>
								</li>
								<li>
									<p class="font-orange absenceNum">2</p>
									<p>缺勤人数</p>
								</li>
							</ul>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card">
							<div class="card-header"><span class="icon-index-sprite icon-device-state"></span><span>设备状态</span></div>
							<ul class="value-list layui-card-body layuiadmin-card-list">
								<li>
									<p class="font-black-light">42</p>
									<p>在线</p>
								</li>
								<li>
									<p class="font-green">2</p>
									<p>报警</p>
								</li>
								<li>
									<p class="font-orange">3</p>
									<p>故障</p>
								</li>
							</ul>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card">
							<div class="card-header"><span class="icon-index-sprite icon-meeting-info"></span><span>会议室信息</span></div>
							<ul class="value-list layui-card-body layuiadmin-card-list">
								<li>
									<p class="font-black-light">4</p>
									<p>今日预约</p>
								</li>
								<li>
									<p class="font-green">3</p>
									<p>使用中</p>
								</li>
								<li>
									<p class="font-orange">1</p>
									<p>空闲中</p>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="row" style="margin-top: 10px;">
					<div class="col-md-7">
						<div class="card">
							<div class="card-header"><span class="icon-index-sprite icon-attendance-all"></span><span>考勤统计</span></div>
							<div class="echart-select">
								<span class="select-icon"></span>
								<select name="select_echart" id="select_echart">
									<option value="0">请假统计</option>
									<option value="1">迟到统计</option>
								</select>
							</div>
							<div id="echarts1" class="echart-box"></div>
						</div>
					</div>
					<div class="col-md-5 video-section">
						<div class="card">
							<div class="card-header"><span class="icon-index-sprite icon-video-surveillance"></span><span>视频监控</span><span class="icon-index-sprite appoint-url"></span></div>
							<div class="video-content">
								<div class="video-box">
									<ul class="video-item-list">
										<li class="videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
											<span class="video-play"></span>
										</li>
										<li class="videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
											<span class="video-play"></span>
										</li>
									</ul>
								</div>
								<span class="left-btn"></span>
								<span class="right-btn"></span>
							</div>
						</div>
					</div>
				</div>
				<div class="row" style="margin-top: 10px;">
					<div class="col-md-4">
						<div class="card">
							<div class="card-header"><span class="icon-index-sprite icon-face"></span><span>人脸识别</span></div>
							<div class="person-info-box">
								<div class="person-img">
									<img src="../images/example1.png" alt="" />
									<span class="icon-face-box"></span>
								</div>
								<div class="person-info">
									<ul class="info-list">
										<li>
											<span>姓名：</span>
											<span>郑伊玲</span>
										</li>
										<li>
											<span>部门：</span>
											<span>行政部</span>
										</li>
										<li>
											<span>时间：</span>
											<span title="2019-11-04 08:50">2019-11-04 08:50</span>
										</li>
									</ul>
									<ul class="item-list">
										<li>
											<span>李明</span>
											<span>行政部</span>
										</li>
										<li>
											<span>李明</span>
											<span>行政部</span>
										</li>
										<li>
											<span>李明</span>
											<span>行政部</span>
										</li>
										<li>
											<span>李明</span>
											<span>行政部</span>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-5">
						<div class="card">
							<div class="card-header"><span class="icon-index-sprite icon-meeting-appoint"></span><span>会议室预约信息</span></div>
							<div class="appoint-info-box">
								<div class="appoint-info-head">
									<span>序号</span>
									<span>申请人</span>
									<span>会议时间</span>
									<span>会议室</span>
									<span>操作</span>
								</div>
								<ul class="appoint-info-list">
									<li>
										<span>1</span>
										<span>刘心雨</span>
										<span title="2019-11-04 09:00-10:00">2019-11-04 09:00-10:00</span>
										<span>会议室一</span>
										<div>
											<span class="icon-index-sprite icon-notice"></span>
											<span class="icon-index-sprite icon-view"></span>
										</div>
									</li>
									<li>
										<span>2</span>
										<span>刘心雨</span>
										<span title="2019-11-04 09:00-10:00">2019-11-04 09:00-10:00</span>
										<span>会议室一</span>
										<div>
											<span class="icon-index-sprite icon-notice"></span>
											<span class="icon-index-sprite icon-view"></span>
										</div>
									</li>
									<li>
										<span>3</span>
										<span>刘心雨</span>
										<span title="2019-11-04 09:00-10:00">2019-11-04 09:00-10:00</span>
										<span>会议室一</span>
										<div>
											<span class="icon-index-sprite icon-notice"></span>
											<span class="icon-index-sprite icon-view"></span>
										</div>
									</li>
									<li>
										<span>4</span>
										<span>刘心雨</span>
										<span title="2019-11-04 09:00-10:00">2019-11-04 09:00-10:00</span>
										<span>会议室一</span>
										<div>
											<span class="icon-index-sprite icon-notice"></span>
											<span class="icon-index-sprite icon-view"></span>
										</div>
									</li>
									<li>
										<span>5</span>
										<span>刘心雨</span>
										<span title="2019-11-04 09:00-10:00">2019-11-04 09:00-10:00</span>
										<span>会议室一</span>
										<div>
											<span class="icon-index-sprite icon-notice"></span>
											<span class="icon-index-sprite icon-view"></span>
										</div>
									</li>
									<li>
										<span>6</span>
										<span>刘心雨</span>
										<span title="2019-11-04 09:00-10:00">2019-11-04 09:00-10:00</span>
										<span>会议室一</span>
										<div>
											<span class="icon-index-sprite icon-notice"></span>
											<span class="icon-index-sprite icon-view"></span>
										</div>
									</li>
									<li>
										<span>7</span>
										<span>刘心雨</span>
										<span title="2019-11-04 09:00-10:00">2019-11-04 09:00-10:00</span>
										<span>会议室一</span>
										<div>
											<span class="icon-index-sprite icon-notice"></span>
											<span class="icon-index-sprite icon-view"></span>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="col-md-3">
						<div class="mode-switch">
							<div class="mode-switch-box">
								<ul class="mode-switch-list">
									<li>
										<div class="switch-item">
											<span>午休模式</span>
											<span class="switch-on"></span>
										</div>
										<div class="switch-item">
											<span>会议模式</span>
											<span class="switch-on"></span>
										</div>
										<div class="switch-item">
											<span>下班模式</span>
											<span class="switch-on"></span>
										</div>
										<div class="switch-item">
											<span>上班模式</span>
											<span class="switch-on"></span>
										</div>
									</li>
									<li>
										<div class="switch-item">
											<span>午休模式2</span>
											<span class="switch-on"></span>
										</div>
										<div class="switch-item">
											<span>会议模式2</span>
											<span class="switch-on"></span>
										</div>
										<div class="switch-item">
											<span>下班模式2</span>
											<span class="switch-on"></span>
										</div>
										<div class="switch-item">
											<span>上班模式2</span>
											<span class="switch-on"></span>
										</div>
									</li>
								</ul>
							</div>
							<span class="left-btn"></span>
							<span class="right-btn"></span>
						</div>
					</div>
				</div>
			</div>
			<!--视频弹框-->
			<div class="videos"></div>

			<!--公用模态框-->
			<div class="node-div"></div>

			<!--视频列表-->
			<script type="text/html" id="video_section_list">
				<span class="node-close"></span>
				<div class="video-section-box">
					<ul class="video-section-list">
						<li class="video-item videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
							<span class="video-play"></span>
						</li>
						<li class="video-item videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
							<span class="video-play"></span>
						</li>
						<li class="video-item videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
							<span class="video-play"></span>
						</li>
						<li class="video-item videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
							<span class="video-play"></span>
						</li>
						<li class="video-item videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
							<span class="video-play"></span>
						</li>
						<li class="video-item videolist" vpath="" ipath="https://blz-videos.nosdn.127.net/1/OverWatch/AnimatedShots/Overwatch_AnimatedShot_CinematicTrailer.mp4">
							<span class="video-play"></span>
						</li>
					</ul>
				</div>
			</script>

		</main>
	</body>
	<script type="text/javascript">

        function getToDay() {
            // $.ajax({
            //     url: addToUrlToken(deviceServiceUrl + "/attInfo/getToDay"),
            //     type: "get",
            //     contentType: "application/json",
            //     dataType: "json",
            //     timeout: 10000,
            //     data: {
            //     },
            //     async: false,
            //     success: function(res) {
            //         if(res.code == 0) {
            //             console.log(res.data.goToNum + " " + "==========");
            //             $(".goToNum").html(res.data.goToNum);
            //             $(".actuallyNum").html(res.data.actuallyNum);
            //             $(".absenceNum").html(res.data.absenceNum);
            //         }
            //     }
            // });
        }

        // getToDay();

		// 基于准备好的dom，初始化echarts实例
		let dataList1 = [1, 2, 1, 4, 9, 2, 2],
			dataList2 = [2, 2, 1, 2, 2, 0, 3],
			dataList3 = [5, 2, 1, 1, 1, 0, 4];
		let dataX = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日'];
		initLineCharts1('echarts1', dataList1, dataList2, dataList3, dataX);

		function initLineCharts1(id, dataList1, dataList2, dataList3, dataX) {
			var myChart = echarts.init(document.getElementById(id));

			// 指定图表的配置项和数据
			option = {
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross',
						label: {
							backgroundColor: '#E1EEF6'
						}
					},
					backgroundColor: '#E1EEF6',
					borderColor: '#45ADF4',
					borderWidth: 1,
					textStyle: {
						color: '#4E5983'
					}
				},
				grid: { // 设置图形大小
					left: '3%',
					right: '4%',
					bottom: '3%',
					top: '20%',
					containLabel: true
				},
				xAxis: [{
					type: 'category',
					data: dataX,
					axisLine: {
						show: false
					},
					axisTick: {
						show: false
					},
					axisLabel: {
						fontSize: 14,
						textStyle: {
							color: '#868DAA' //坐标值得具体的颜色
						}
					}
				}],
				yAxis: [{
					type: 'value',
					splitNumber: '4',
					axisLine: {
						show: false
					},
					axisTick: {
						show: false
					},
					axisLabel: {
						fontSize: 14,
						textStyle: {
							color: '#868DAA'
						}
					},
					splitLine: {
						show: true,
						//  改变轴线颜色
						lineStyle: {
							type: 'dashed', //设置网格线类型 dotted：虚线   solid:实线
							// 使用深浅的间隔色
							color: ['#E1EEF6']
						}
					}
				}],
				series: [{
						name: '行政部',
						type: 'line',
						color: "#4E5983",
						smooth: true,
						stack: '人数',
						areaStyle: {
							color: '#E1EEF6'
						},
						data: dataList1
					},
					{
						name: '产品中心',
						type: 'line',
						color: "#00C3B3",
						smooth: true,
						stack: '人数',
						areaStyle: {
							color: '#E1EEF6'
						},
						data: dataList2
					},
					{
						name: '财务部',
						type: 'line',
						color: "#0492F2",
						smooth: true,
						stack: '人数',
						areaStyle: {
							color: '#E1EEF6'
						},
						data: dataList3
					},
				]
			};
			// 使用刚指定的配置项和数据显示图表。
			myChart.setOption(option);
		}

		$('#select_echart').change(function() {
			if($(this).val() == 0) {
				let dataList1 = [1, 2, 1, 4, 9, 2, 2],
					dataList2 = [2, 2, 1, 2, 2, 0, 3],
					dataList3 = [5, 2, 1, 1, 1, 0, 4];
				let dataX = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日'];
				initLineCharts1('echarts1', dataList1, dataList2, dataList3, dataX);
			} else {
				let dataList1 = [3, 4, 5, 2, 7, 1, 2],
					dataList2 = [2, 0, 3, 2, 3, 1, 3],
					dataList3 = [4, 0, 0, 2, 3, 1, 4];
				let dataX = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日'];
				initLineCharts1('echarts1', dataList1, dataList2, dataList3, dataX);
			}
		});

		$('.videolist').each(function() { //遍历视频列表
			$(this).click(function() { //这个视频被点击后执行
				var video = $(this).attr('ipath'); //获取视频路径
				$('.videos').html("<video id=\"video\" style='width: 640px' src='" + video + "' preload=\"auto\" controls=\"controls\" autoplay=\"autoplay\"></video><img onClick=\"close1()\" class=\"vclose\" src=\"../images/gb.png\" width=\"25\" height=\"25\">");
				$('.videos').show();
			});
		});

		function close1() {
			var v = document.getElementById('video'); //获取视频节点
			$('.videos').hide(); //点击关闭按钮关闭暂停视频
			v.pause();
			$('.videos').html();
		}

		$('.video-section .appoint-url').click(function() {
			$('.node-div').show();
			$('.node-div').append(template("video_section_list", {}))

			$('.videolist').each(function() { //遍历视频列表
				$(this).click(function() { //这个视频被点击后执行
					var video = $(this).attr('ipath'); //获取视频路径
					$('.videos').html("<video id=\"video\" style='width: 640px' src='" + video + "' preload=\"auto\" controls=\"controls\" autoplay=\"autoplay\"></video><img onClick=\"close1()\" class=\"vclose\" src=\"../images/gb.png\" width=\"25\" height=\"25\">");
					$('.videos').show();
				});
			});
			$('.node-close').click(function() {
				$('.node-div').html('').hide();
			});
		});
		
		
		var v_Width=$('.video-content .video-box').width();
		$('.video-content .videolist').css('min-width',v_Width);
			
		var m_width=$('.mode-switch-box').width();
		$('.mode-switch-list>li').css('min-width',m_width-20);
		$('.mode-switch-list>li .switch-item').css('min-width',(m_width-40)/2);
		
		// 列表横向滚动
		$(function() {
			//获得当前<ul>
			var $uList1 = $(".video-box ul");

			$('.video-content .left-btn').on('click', function() {
				scrollList($uList1, 'left');
			});

			$('.video-content .right-btn').on('click', function() {
				scrollList($uList1, 'right');
			});

			var $uList2 = $(".mode-switch-box ul");
			$('.mode-switch .left-btn').on('click', function() {
				scrollList($uList2, 'left');
			});

			$('.mode-switch .right-btn').on('click', function() {
				scrollList($uList2, 'right');
			});

			function scrollList(obj, direction) {
				//获得当前<li>的高度
				var scrollWidth = $("ul li:first").width();
				//滚动出一个<li>的高度
				if(direction == 'left') {
					obj.stop().animate({
						marginLeft: scrollWidth
					}, 10, function() {
						//动画结束后，将当前<ul>marginTop置为初始值0状态，再将第一个<li>拼接到末尾。
						obj.css({
							marginLeft: 0
						}).find("li:first").appendTo(obj);
					});
				} else {
					obj.stop().animate({
						marginLeft: -scrollWidth
					}, 10, function() {
						//动画结束后，将当前<ul>marginTop置为初始值0状态，再将第一个<li>拼接到末尾。
						obj.css({
							marginLeft: 0
						}).find("li:last").prependTo(obj);
					});
				}
			}
		});
	</script>

</html>